---
name: Yapi接口测试管理平台使用和分享
author: "刘淼"
date: "2019-09-19"
description: |
---
### 主要内容：

#### 一、Yapi概述

* <u>***由来***</u> ：**Yapi**是由”去哪儿网”前端开发，主要**打通前后端及QA对接口管理**的平台工具。

* <u>***用处***</u> ：**过往**，后端使用文档类去编写接口，前端等待接口文档，**QA不介入，效率低**；**如今**，后端使用平台类去编写接口，前端实时查看接口，同时带动**QA介入接口测试工作，效率高**；

* <u>***特点***</u> ：

  > 1. 全中文+可视化接口平台
  > 2. 前后端+QA共同维护管理一套接口+邮件提醒
  > 3. Mock数据+导入其他接口文档  如：Postman、Swagger
  > 4. 自动化接口回归测试、稳定性测试；

#### 二、使用

##### 步骤一：访问 [http://192.168.9.101:3000/](http://192.168.9.101:3000/)

![3-1](./images/yapi/3-1.png)

##### 步骤二：添加分组à添加项目à添加成员

![3-2](./images/yapi/3-2.png)

![3-3](./images/yapi/3-3.png)

![3-4](./images/yapi/3-4.png)

##### 步骤三：导出导入接口数据

![3-5](./images/yapi/3-5.png)

##### 步骤四：配置环境域名

![3-6](./images/yapi/3-6.png)

##### 步骤五：配置入参出参

![3-7](./images/yapi/3-7.png)

##### 步骤六：添加集合à添加断言

![3-8](./images/yapi/3-8.png)

##### 步骤七：执行测试查看测试报告

![3-9](./images/yapi/3-9.png)

#### 三、知识点

1. **json入参：**

   {

   “status”:200,

   “msg”:”value”

   {“List”:[value,value,value]} **#****入参为数组，仅传值**（示例找芝士工场-评论操作）

   “List”:{  **#****入参为数组，带键值对**（参考-education/course—排课日历）

   “Key”:”Value”

   “Key”:”Value”

   }

   }

2. **json断言：**

   方法一：assert.equal(key,value)  **#****全局判断，判断一个指针**

   方法二：assert.deepEqual(key,value)  **#****deepEqual****断言的是对象本身。****E****要大写**

   方法三：assert.equal(body.key,value)  **#****指定****body****体断言**

   方法四：assert.equal(body.data.XXX.XXX,value)  **#****指定****json****层级断言**

3. **变量参数（接口依赖）：**

   + **芝士工场项目-示例：**”评论操作”调用”评论列表”id，进行隐藏操作；

   + **步骤：**评论列表接口调通**-->**评论操作选json入参**-->**进入测试集合**-->**输入函数调用；

   + **官方格式：**$.{key}.{params|body}.{path}

   + **注：** **$.表示：动态变量；{key}.表示 ：被调用接口key值；{params}表示：请求参数；{body}表示：返回参数；{path}表示：参数路径；**

   + **成品：**

     {

     "op_type": 2,

     "comment_ids":["{{$.1287.body.data.list[0].comment_id}}","{{$.1287.body.data.list[1].comment_id}}"] 

     }

   

   

